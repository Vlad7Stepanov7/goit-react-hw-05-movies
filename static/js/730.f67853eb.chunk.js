"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[730],{730:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var r,c,o,i,u=t(413),a=t(885),s=t(937),l=t(776),h=t(689),f=t(87),d=t(168),x=t(444),p=(0,x.ZP)(f.OL)(r||(r=(0,d.Z)(["\nmargin-left: 20px;\ntext-decoration: none;\n  font-size: 36px;\n  color: #000;\n\n  &.active {\n    color: red;\n  }\n"]))),m=x.ZP.ul(c||(c=(0,d.Z)(["\n  list-style: none;\n  display: flex;\n  height: 60px;\n  box-shadow: 0px 5px 5px 0px rgba(150,142,150,1);\n"]))),g=x.ZP.div(o||(o=(0,d.Z)(["\n  margin-left: 50px;\n"]))),j=x.ZP.ul(i||(i=(0,d.Z)(["\n  list-style: none;\n"]))),v=t(791),k=t(184),w=function(){var n,e=(0,l.cI)({defaultValues:{searchQuery:""}}),t=e.register,r=e.handleSubmit,c=e.resetField,o=(0,h.TH)(),i=(0,v.useState)([]),d=(0,a.Z)(i,2),x=d[0],w=d[1],y=(0,f.lr)(),Z=(0,a.Z)(y,2),b=Z[0],_=Z[1],S=null!==(n=b.get("query"))&&void 0!==n?n:"";(0,v.useEffect)((function(){""!==S&&(0,s.V0)(S).then((function(n){return w(n.results)}))}),[S]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("header",{children:(0,k.jsx)("nav",{children:(0,k.jsxs)(m,{children:[(0,k.jsx)("li",{children:(0,k.jsx)(p,{to:"/",children:"Home"})}),(0,k.jsx)("li",{children:(0,k.jsx)(p,{to:"/movies",children:"Movies"})})]})})}),(0,k.jsx)(g,{children:(0,k.jsxs)("form",{onSubmit:r((function(n){var e=n.searchQuery;_({query:e}),c("searchQuery")})),children:[(0,k.jsx)("input",(0,u.Z)({},t("searchQuery"))),(0,k.jsx)("button",{type:"submit",children:"Search"})]})}),(0,k.jsx)(j,{children:x.length>0&&x.map((function(n){var e=n.title,t=n.id;return(0,k.jsx)("li",{children:(0,k.jsx)(f.rU,{to:"/movies/".concat(t),state:{from:o},children:e})},t)}))})]})}},937:function(n,e,t){t.d(e,{Hg:function(){return o},V0:function(){return u},Vu:function(){return i},tx:function(){return s},zv:function(){return a}});var r="aaf79569db7508d9603d7e27ccd5678a",c="https://api.themoviedb.org/3",o=function(){return fetch("".concat(c,"/trending/movie/week?api_key=").concat(r)).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},i=function(n){return fetch("".concat(c,"/movie/").concat(n,"?api_key=").concat(r,"&language=en-US")).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},u=function(n){return fetch("".concat(c,"/search/movie?api_key=").concat(r,"&query=").concat(n,"&language=en-US&page=1&include_adult=false")).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},a=function(n){return fetch("".concat(c,"/movie/").concat(n,"/credits?api_key=").concat(r,"&language=en-US")).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},s=function(n){return fetch("".concat(c,"/movie/").concat(n,"/reviews?api_key=").concat(r,"&language=en-US")).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))}}}]);
//# sourceMappingURL=730.f67853eb.chunk.js.map